import '../setup';
import { getRecentNameGrowth } from '../../lib/name-growth';

test('query name registration growth ranges', async () => {
  const blockHeight = 611000;
  const totalNameCount = 100000000;
  const ranges = await getRecentNameGrowth(blockHeight, totalNameCount);
  expect(ranges).toEqual([
    {
      "x": 1575413796,
      "y": 98999029
    },
    {
      "x": 1575500196,
      "y": 99007211
    },
    {
      "x": 1575586596,
      "y": 99014343
    },
    {
      "x": 1575672996,
      "y": 99024723
    },
    {
      "x": 1575759396,
      "y": 99048731
    },
    {
      "x": 1575845796,
      "y": 99087561
    },
    {
      "x": 1575932196,
      "y": 99140686
    },
    {
      "x": 1576018596,
      "y": 99157455
    },
    {
      "x": 1576104996,
      "y": 99177817
    },
    {
      "x": 1576191396,
      "y": 99204425
    },
    {
      "x": 1576277796,
      "y": 99239179
    },
    {
      "x": 1576364196,
      "y": 99262591
    },
    {
      "x": 1576450596,
      "y": 99279341
    },
    {
      "x": 1576536996,
      "y": 99319612
    },
    {
      "x": 1576623396,
      "y": 99372065
    },
    {
      "x": 1576709796,
      "y": 99429001
    },
    {
      "x": 1576796196,
      "y": 99443830
    },
    {
      "x": 1576882596,
      "y": 99485334
    },
    {
      "x": 1576968996,
      "y": 99488078
    },
    {
      "x": 1577055396,
      "y": 99491761
    },
    {
      "x": 1577141796,
      "y": 99545450
    },
    {
      "x": 1577228196,
      "y": 99551108
    },
    {
      "x": 1577314596,
      "y": 99601411
    },
    {
      "x": 1577400996,
      "y": 99651047
    },
    {
      "x": 1577487396,
      "y": 99693910
    },
    {
      "x": 1577573796,
      "y": 99756774
    },
    {
      "x": 1577660196,
      "y": 99759998
    },
    {
      "x": 1577746596,
      "y": 99810316
    },
    {
      "x": 1577832996,
      "y": 99877392
    },
    {
      "x": 1577919396,
      "y": 99933122
    },
    {
      "x": 1578005796,
      "y": 100000000
    }
  ]);
});
